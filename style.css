/* ---------- Variables ---------- */
:root{
  --bg: #ffffff;
  --text: #222;
  --muted: #666;
  --accent: #0077cc;
  --card: #fafafa;
  --card-border: #ddd;
  --shadow: 0 6px 18px rgba(0,0,0,0.06);
  --danger: #d9534f;

  --dark-bg: #0f1113;
  --dark-text: #e6e6e6;
  --dark-muted: #a9a9a9;
  --dark-sidebar: #16181a;
  --dark-card: #1f2123;
  --dark-border: #2b2d2f;
}

/* ---------- Reset ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Segoe UI", Roboto, system-ui, -apple-system, "Helvetica Neue", Arial;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  transition: background .25s ease, color .25s ease;
}

/* Top bar */
.topbar{
  height:56px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 12px;
  background:linear-gradient(180deg,rgba(0,0,0,0.03),transparent);
  border-bottom:1px solid rgba(0,0,0,0.04);
}
.topbar-title{font-weight:600}
.icon-btn{background:transparent;border:none;cursor:pointer;font-size:18px;padding:8px}

/* app layout */
.app-container{display:flex;min-height:calc(100vh - 56px)}
.sidebar-feeds{
  width:300px;
  padding:16px;
  background:var(--card);
  border-right:1px solid var(--card-border);
  display:flex;flex-direction:column;
}
.sidebar-header{display:flex;flex-direction:column;gap:8px}
.sidebar-controls{display:flex;gap:8px}
.primary{background:var(--accent);color:#fff;border:none;padding:8px 10px;border-radius:6px;cursor:pointer}
.small{padding:6px 8px;font-size:14px}
.ghost{background:transparent;border:1px solid rgba(0,0,0,0.08);padding:6px;border-radius:6px}

/* feed list */
.feed-list{margin-top:12px;overflow:auto}
.feed-item{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px;border-radius:8px;margin-bottom:8px;cursor:pointer;
  transition:background .15s ease, transform .12s ease;
}
.feed-item:hover{background:rgba(0,0,0,0.03);transform:translateY(-1px)}
.feed-item .name{font-weight:600}
.feed-item .controls{display:flex;gap:8px;align-items:center}
.feed-item.active{background:var(--accent);color:#fff}

/* main content / bookmarks */
.main-content{display:flex;flex:1;gap:18px;padding:20px;align-items:flex-start}
.article-grid{flex:1;display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px}
.bookmarks-panel{width:320px;max-height:calc(100vh - 120px);overflow:auto;padding:12px;border-left:1px solid var(--card-border);background:linear-gradient(180deg,#fff, #fafafa)}

/* article card */
.article-card{
  display:flex;gap:12px;align-items:flex-start;text-decoration:none;color:inherit;
  background:var(--card);border:1px solid var(--card-border);padding:12px;border-radius:10px;box-shadow:var(--shadow);
}
.article-image{width:140px;height:88px;object-fit:cover;border-radius:6px;background:#ddd}
.article-content h2{margin:0 0 6px;font-size:1rem}
.article-content p{margin:0;color:var(--muted);font-size:.94rem}
.article-meta{margin-top:8px;font-size:.82rem;color:var(--muted)}

/* bookmarks */
.bookmarks-list .article-card{background:#fffbe6;border-color:#f0e0b6}

/* loading spinner */
.loading{display:flex;align-items:center;justify-content:center;padding:40px;width:100%}
.loading-spinner{width:40px;height:40px;border-radius:50%;border:6px solid #efefef;border-top-color:var(--accent);animation:spin .85s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:60}
.modal.hidden{display:none}
.modal-box{width:100%;max-width:480px;background:var(--bg);padding:18px;border-radius:10px;border:1px solid var(--card-border)}
.modal-box input{width:100%;padding:10px;margin-top:8px;border-radius:6px;border:1px solid #ddd}

/* small utilities */
.modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}
.small{font-size:13px;padding:8px 10px}

/* ---------- Dark Mode ---------- */
body.dark-mode{
  background:var(--dark-bg);color:var(--dark-text)
}
body.dark-mode .sidebar-feeds{background:var(--dark-sidebar);border-right:1px solid var(--dark-border)}
body.dark-mode .feed-item:hover{background:rgba(255,255,255,0.03)}
body.dark-mode .article-card{background:var(--dark-card);border:1px solid var(--dark-border);box-shadow:none}
body.dark-mode .bookmarks-list .article-card{background:#3a2a00}

/* ---------- Responsive ---------- */
@media (max-width: 900px){
  .app-container{flex-direction:column}
  .sidebar-feeds{width:100%;order:2;border-right:none;border-top:1px solid rgba(0,0,0,0.06)}
  .main-content{flex-direction:column;padding:12px}
  .bookmarks-panel{width:100%;order:3;border-left:none;border-top:1px solid rgba(0,0,0,0.06)}
}
@media (max-width: 760px){
  .sidebar-feeds{display:none;position:fixed;left:0;top:56px;bottom:0;width:280px;z-index:80}
  .sidebar-feeds.open{display:block;background:var(--card);box-shadow:0 12px 30px rgba(0,0,0,0.2)}
  .topbar .hamburger{display:inline-block}
}
